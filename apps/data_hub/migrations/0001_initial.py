# Generated by Django 5.1.8 on 2025-12-05 04:47

import django.core.validators
import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Administrator',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('profile_picture', models.ImageField(blank=True, null=True, upload_to='admin_profiles/')),
                ('phone_number', models.CharField(max_length=15, unique=True)),
                ('gender', models.CharField(choices=[('Male', 'Male'), ('Female', 'Female'), ('Other', 'Other')], max_length=10)),
                ('date_of_birth', models.DateField(blank=True, null=True)),
                ('date_joined', models.DateField(blank=True, null=True)),
                ('employee_id', models.CharField(blank=True, max_length=50, unique=True)),
                ('home_address', models.TextField(null=True)),
                ('home_city', models.CharField(max_length=100, null=True)),
                ('home_state', models.CharField(blank=True, max_length=100, null=True)),
                ('home_country', models.CharField(max_length=100, null=True)),
                ('home_zip_code', models.CharField(max_length=20, null=True)),
                ('experience_certificate', models.FileField(blank=True, null=True, upload_to='doctor_documents/')),
                ('qualification', models.CharField(max_length=255, null=True)),
                ('experience_years', models.PositiveIntegerField(null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Doctor',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('date_of_birth', models.DateField(null=True)),
                ('gender', models.CharField(choices=[('MALE', 'Male'), ('FEMALE', 'Female'), ('OTHER', 'Other')], max_length=10, null=True)),
                ('contact_number', models.CharField(max_length=15)),
                ('phone_number', models.CharField(blank=True, max_length=15, null=True)),
                ('email', models.EmailField(max_length=254)),
                ('home_address', models.TextField(null=True)),
                ('home_city', models.CharField(max_length=100, null=True)),
                ('home_state', models.CharField(blank=True, max_length=100, null=True)),
                ('home_country', models.CharField(max_length=100, null=True)),
                ('home_zip_code', models.CharField(max_length=20, null=True)),
                ('qualification', models.CharField(max_length=255, null=True)),
                ('experience_years', models.PositiveIntegerField(null=True)),
                ('profile_picture', models.ImageField(blank=True, null=True, upload_to='doctors/')),
                ('date_joined', models.DateField(blank=True, null=True)),
                ('curriculum_vitae', models.FileField(blank=True, null=True, upload_to='doctor_documents/')),
                ('education_certificate', models.FileField(blank=True, null=True, upload_to='doctor_documents/')),
                ('experience_certificate', models.FileField(blank=True, null=True, upload_to='doctor_documents/')),
                ('doctor_consultation_fee', models.DecimalField(decimal_places=2, max_digits=10, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
                ('user', models.OneToOneField(null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Department',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('name', models.CharField(max_length=100, null=True, unique=True)),
                ('code', models.CharField(max_length=10, null=True, unique=True)),
                ('description', models.TextField(blank=True)),
                ('floor', models.CharField(blank=True, max_length=20, null=True)),
                ('contact_number', models.CharField(blank=True, max_length=15, null=True)),
                ('email', models.EmailField(blank=True, max_length=254, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
                ('head', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='headed_departments', to='data_hub.doctor')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Appointment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('appointment_id', models.CharField(max_length=50, unique=True)),
                ('appointment_date', models.DateField()),
                ('appointment_time', models.TimeField()),
                ('visit_reason', models.TextField(blank=True, null=True)),
                ('visit_status', models.CharField(choices=[('SCHEDULED', 'Scheduled'), ('FOLLOW_UP', 'Follow-up'), ('CHECKED_IN', 'Checked In'), ('IN_CONSULTATION', 'In Consultation'), ('PRESCRIPTION_READY', 'Prescription Ready'), ('AT_PHARMACY', 'At Pharmacy'), ('DISPENSED', 'Medications Dispensed'), ('AT_BILLING', 'At Billing'), ('PAYMENT_COMPLETE', 'Payment Complete'), ('COMPLETED', 'Completed'), ('CANCELED', 'Canceled')], default='SCHEDULED', max_length=30)),
                ('consultation_room', models.CharField(blank=True, max_length=20, null=True)),
                ('is_follow_up', models.BooleanField(default=False)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
                ('doctor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='appointments', to='data_hub.doctor')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='DoctorConsultation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('diagnosis', models.TextField()),
                ('recommended_tests', models.JSONField(blank=True, default=list)),
                ('doctor_notes', models.TextField(blank=True, null=True)),
                ('follow_up_date', models.DateField(blank=True, null=True)),
                ('appointment', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='consultations', to='data_hub.appointment')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.AddField(
            model_name='appointment',
            name='parent_consultation',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='follow_up_appointments', to='data_hub.doctorconsultation'),
        ),
        migrations.CreateModel(
            name='FrontDeskStaff',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('date_of_birth', models.DateField(blank=True, null=True)),
                ('gender', models.CharField(blank=True, choices=[('MALE', 'Male'), ('FEMALE', 'Female'), ('OTHER', 'Other')], max_length=10, null=True)),
                ('contact_number', models.CharField(max_length=15)),
                ('emergency_contact', models.CharField(blank=True, max_length=15)),
                ('email', models.EmailField(max_length=254)),
                ('employee_id', models.CharField(max_length=20, unique=True)),
                ('hire_date', models.DateField()),
                ('department', models.CharField(choices=[('RECEPTION', 'Reception'), ('BILLING', 'Billing'), ('APPOINTMENT', 'Appointment Scheduling'), ('PATIENT_SERVICES', 'Patient Services')], max_length=50, null=True)),
                ('employment_type', models.CharField(choices=[('FULL', 'Full-time'), ('PART', 'Part-time'), ('CONTRACT', 'Contract')], default='FULL', max_length=20)),
                ('shift_schedule', models.CharField(help_text='E.g., Morning, Evening, Night', max_length=100)),
                ('profile_picture', models.ImageField(blank=True, null=True, upload_to='front_desk_staff/')),
                ('signature', models.ImageField(blank=True, null=True, upload_to='signatures/')),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
                ('user', models.OneToOneField(null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'FrontDeskStaff',
                'verbose_name_plural': 'FrontDeskStaff',
                'ordering': ['user__last_name'],
            },
        ),
        migrations.CreateModel(
            name='Hospital',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('name', models.CharField(max_length=255, unique=True)),
                ('hospital_code', models.CharField(max_length=50, unique=True)),
                ('street_address', models.CharField(max_length=255)),
                ('city', models.CharField(max_length=100)),
                ('state', models.CharField(max_length=100)),
                ('postal_code', models.CharField(max_length=20)),
                ('country', models.CharField(default='India', max_length=100)),
                ('phone_number', models.CharField(blank=True, max_length=17, validators=[django.core.validators.RegexValidator(message="Phone number must be entered in the format: '+999999999'", regex='^\\+?1?\\d{9,15}$')])),
                ('email', models.EmailField(blank=True, max_length=254)),
                ('website', models.URLField(blank=True)),
                ('hospital_type', models.CharField(choices=[('G', 'General'), ('S', 'Specialty'), ('C', 'Clinic'), ('T', 'Teaching')], max_length=1)),
                ('emergency_services', models.BooleanField(default=False)),
                ('license_number', models.CharField(max_length=100, null=True, unique=True)),
                ('accreditation', models.CharField(max_length=100, null=True)),
                ('license_expiry_date', models.DateField()),
                ('description', models.TextField(blank=True)),
                ('established_date', models.DateField(blank=True, null=True)),
                ('bed_capacity', models.PositiveIntegerField(blank=True, null=True)),
                ('logo', models.ImageField(blank=True, upload_to='hospital_logos/')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Hospital',
                'verbose_name_plural': 'Hospitals',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='LabBilling',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('bill_number', models.CharField(max_length=20, unique=True)),
                ('patient_name', models.CharField(max_length=100)),
                ('bill_date', models.DateField(null=True)),
                ('age', models.PositiveIntegerField(null=True)),
                ('gender', models.CharField(max_length=10, null=True)),
                ('discount', models.DecimalField(decimal_places=2, default=0.0, max_digits=10, null=True)),
                ('payment_type', models.CharField(choices=[('CASH', 'Cash'), ('CARD', 'Card'), ('UPI', 'UPI'), ('OTHER', 'Other')], default='CASH', max_length=20)),
                ('payment_status', models.CharField(choices=[('PENDING', 'Pending'), ('PAID', 'Paid'), ('CANCELLED', 'Cancelled')], default='PENDING', max_length=20)),
                ('amount', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('items', models.JSONField(default=list, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('dispensed_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='Lab_billing', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='LabDepartment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('name', models.CharField(max_length=100, unique=True)),
                ('code', models.CharField(max_length=10, unique=True)),
                ('description', models.TextField(blank=True)),
                ('rate', models.PositiveIntegerField(blank=True, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Medication',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('name', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True, null=True)),
                ('dosage_form', models.CharField(max_length=100)),
                ('strength', models.CharField(max_length=50)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='MedicationReorderConfig',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('reorder_level', models.PositiveIntegerField(default=50)),
                ('reorder_quantity', models.PositiveIntegerField(default=100)),
                ('max_stock_level', models.PositiveIntegerField(default=500)),
                ('lead_time_days', models.PositiveIntegerField(default=7)),
                ('is_auto_reorder', models.BooleanField(default=False)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('medication', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='reorder_config', to='data_hub.medication')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='MedicationStock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('batch_number', models.CharField(max_length=100)),
                ('quantity', models.PositiveIntegerField()),
                ('opening_quantity', models.PositiveIntegerField(default=0, help_text='Opening stock')),
                ('received_quantity', models.PositiveIntegerField(default=0, help_text='Total received')),
                ('sold_quantity', models.PositiveIntegerField(default=0, help_text='Total sold')),
                ('returned_quantity', models.PositiveIntegerField(default=0, help_text='Total returned to supplier')),
                ('damaged_quantity', models.PositiveIntegerField(default=0, help_text='Total damaged/written off')),
                ('adjusted_quantity', models.IntegerField(default=0, help_text='Adjustments (+/-)')),
                ('expiry_date', models.DateField()),
                ('received_date', models.DateField()),
                ('purchase_price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('selling_price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('mrp', models.DecimalField(blank=True, decimal_places=2, help_text='Maximum Retail Price', max_digits=10, null=True)),
                ('supplier', models.CharField(max_length=200)),
                ('manufacturer', models.CharField(default='Medi power', max_length=200)),
                ('ptr', models.DecimalField(blank=True, decimal_places=2, help_text='Price to Retailer', max_digits=10, null=True)),
                ('rack_number', models.CharField(blank=True, help_text='Physical rack/shelf location (e.g., A-12-03)', max_length=20, null=True)),
                ('free_quantity', models.PositiveIntegerField(default=0, help_text='Free quantity received with this batch')),
                ('packing', models.CharField(blank=True, help_text='Packing details (e.g., 10 tablets per strip)', max_length=50, null=True)),
                ('cgst_percent', models.DecimalField(decimal_places=2, default=0.0, help_text='CGST percentage', max_digits=5)),
                ('sgst_percent', models.DecimalField(decimal_places=2, default=0.0, help_text='SGST percentage', max_digits=5)),
                ('igst_percent', models.DecimalField(decimal_places=2, default=0.0, help_text='IGST percentage', max_digits=5)),
                ('margin_percent', models.DecimalField(decimal_places=2, default=0.0, help_text='Profit margin percentage', max_digits=5)),
                ('is_near_expiry', models.BooleanField(default=False, help_text='Expiring within 3 months')),
                ('is_expired', models.BooleanField(default=False, help_text='Already expired')),
                ('is_low_stock', models.BooleanField(default=False, help_text='Below reorder level')),
                ('is_out_of_stock', models.BooleanField(default=False, help_text='Stock is completely out (quantity = 0)')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('medication', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='stock_entries', to='data_hub.medication')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='ExpiryAlertLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('alert_type', models.CharField(choices=[('EXPIRED', 'Already Expired'), ('CRITICAL', 'Expiring in 30 days'), ('WARNING', 'Expiring in 3 months'), ('INFO', 'Expiring in 6 months')], max_length=20)),
                ('expiry_date', models.DateField()),
                ('alert_sent_date', models.DateTimeField(auto_now_add=True)),
                ('alert_recipients', models.JSONField(default=list)),
                ('is_resolved', models.BooleanField(default=False)),
                ('resolution_notes', models.TextField(blank=True, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
                ('stock_entry', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='expiry_alerts', to='data_hub.medicationstock')),
            ],
            options={
                'ordering': ['expiry_date', '-alert_sent_date'],
            },
        ),
        migrations.CreateModel(
            name='Menu',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('name', models.CharField(max_length=100)),
                ('title', models.CharField(max_length=100)),
                ('code', models.CharField(max_length=50, unique=True)),
                ('redirect_url', models.CharField(max_length=100)),
                ('icon', models.CharField(max_length=100)),
                ('menu_order', models.IntegerField()),
                ('description', models.CharField(max_length=500)),
                ('feature_code', models.CharField(blank=True, max_length=50, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='data_hub.menu')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Menu',
                'verbose_name_plural': 'Menus',
                'db_table': 'menu',
            },
        ),
        migrations.CreateModel(
            name='MenuPermissionMapper',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('description', models.CharField(max_length=500)),
                ('auth_group_permission', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='auth.group')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('menu', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='data_hub.menu')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Menu Permission',
                'verbose_name_plural': 'Menu Permissions',
                'db_table': 'menu_permision',
            },
        ),
        migrations.CreateModel(
            name='MenuType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('name', models.CharField(max_length=100)),
                ('code', models.CharField(max_length=50, unique=True)),
                ('description', models.CharField(max_length=500)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'MenuType',
                'verbose_name_plural': 'MenuTypes',
                'db_table': 'menu_type',
            },
        ),
        migrations.AddField(
            model_name='menu',
            name='menu_type',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='data_hub.menutype'),
        ),
        migrations.CreateModel(
            name='Nurse',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('date_of_birth', models.DateField(null=True)),
                ('gender', models.CharField(choices=[('MALE', 'Male'), ('FEMALE', 'Female'), ('OTHER', 'Other')], max_length=10, null=True)),
                ('contact_number', models.CharField(max_length=15)),
                ('email', models.EmailField(max_length=254)),
                ('qualification', models.CharField(max_length=255, null=True)),
                ('experience_years', models.PositiveIntegerField(null=True)),
                ('profile_picture', models.ImageField(blank=True, null=True, upload_to='nurses/')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
                ('user', models.OneToOneField(null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='PatientBill',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('bill_number', models.CharField(max_length=50, unique=True)),
                ('patient_name', models.CharField(max_length=255)),
                ('doctor_name', models.CharField(max_length=255)),
                ('bill_date', models.DateTimeField(auto_now_add=True)),
                ('appointment_date', models.DateField()),
                ('appointment_time', models.TimeField()),
                ('consultation_fee', models.DecimalField(decimal_places=2, max_digits=10)),
                ('total_medicine_cost', models.DecimalField(decimal_places=2, max_digits=10)),
                ('total_bill_amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('medicine_items', models.JSONField(default=list)),
                ('payment_status', models.CharField(choices=[('PENDING', 'Pending'), ('PAID', 'Paid'), ('CANCELLED', 'Cancelled')], default='PENDING', max_length=20)),
                ('payment_type', models.CharField(choices=[('CASH', 'Cash'), ('CARD', 'Card'), ('UPI', 'UPI'), ('OTHER', 'Other')], default='CASH', max_length=20)),
                ('appointment', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='data_hub.appointment')),
                ('consultation', models.OneToOneField(on_delete=django.db.models.deletion.PROTECT, to='data_hub.doctorconsultation')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-bill_date'],
            },
        ),
        migrations.CreateModel(
            name='PatientMedicineReturn',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('return_number', models.CharField(editable=False, max_length=50, unique=True)),
                ('return_date', models.DateField(auto_now_add=True)),
                ('total_refund_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('refund_method', models.CharField(choices=[('CASH', 'Cash'), ('CARD', 'Card'), ('UPI', 'UPI'), ('ORIGINAL_MODE', 'Original Payment Mode')], default='CASH', max_length=20)),
                ('is_refunded', models.BooleanField(default=False)),
                ('processed_date', models.DateTimeField(blank=True, null=True)),
                ('stock_adjusted', models.BooleanField(default=False)),
                ('notes', models.TextField(blank=True, help_text='Reason for return or additional notes', null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('patient_bill', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='medicine_returns', to='data_hub.patientbill')),
                ('processed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='processed_medicine_returns', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Patient Medicine Return',
                'verbose_name_plural': 'Patient Medicine Returns',
                'ordering': ['-return_date', '-id'],
            },
        ),
        migrations.CreateModel(
            name='PatientMedicineReturnItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('batch_number', models.CharField(help_text='Batch number from original package', max_length=100)),
                ('expiry_date', models.DateField(help_text='Expiry date from original package')),
                ('quantity_returned', models.PositiveIntegerField(help_text='Quantity being returned')),
                ('unit_price', models.DecimalField(decimal_places=2, help_text='Price per unit from original bill', max_digits=10)),
                ('refund_amount', models.DecimalField(decimal_places=2, default=0, editable=False, help_text='Auto-calculated refund', max_digits=10)),
                ('condition', models.CharField(choices=[('UNOPENED', 'Unopened/Sealed - Can Resell'), ('OPENED', 'Opened - Cannot Resell'), ('DAMAGED', 'Damaged - Write Off')], help_text='Physical condition of returned medicine', max_length=20)),
                ('can_restock', models.BooleanField(default=False, editable=False, help_text='Auto-determined based on condition')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('medication', models.ForeignKey(help_text='Medication being returned', on_delete=django.db.models.deletion.PROTECT, to='data_hub.medication')),
                ('patient_return', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='data_hub.patientmedicinereturn')),
                ('stock_entry', models.ForeignKey(help_text='Original stock batch', on_delete=django.db.models.deletion.PROTECT, to='data_hub.medicationstock')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Medicine Return Item',
                'verbose_name_plural': 'Medicine Return Items',
            },
        ),
        migrations.CreateModel(
            name='PatientRegistration',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('patient_id', models.CharField(max_length=50, unique=True)),
                ('first_name', models.CharField(blank=True, max_length=100, null=True)),
                ('last_name', models.CharField(blank=True, max_length=100, null=True)),
                ('date_of_birth', models.DateField()),
                ('age', models.IntegerField(null=True)),
                ('gender', models.CharField(choices=[('M', 'Male'), ('F', 'Female'), ('O', 'Other')], max_length=1)),
                ('contact_number', models.CharField(max_length=15)),
                ('email', models.EmailField(blank=True, max_length=254, null=True)),
                ('address', models.TextField(blank=True, null=True)),
                ('allergies', models.TextField(blank=True, null=True)),
                ('emergency_contact', models.CharField(max_length=100, null=True)),
                ('registration_date', models.DateField()),
                ('registration_type', models.CharField(max_length=50, null=True)),
                ('insurance_provider', models.CharField(max_length=100, null=True)),
                ('insurance_number', models.CharField(max_length=50, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.AddField(
            model_name='patientmedicinereturn',
            name='patient',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='medicine_returns', to='data_hub.patientregistration'),
        ),
        migrations.AddField(
            model_name='appointment',
            name='patient',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='appointments', to='data_hub.patientregistration'),
        ),
        migrations.CreateModel(
            name='PharmacistStaff',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('date_of_birth', models.DateField(blank=True, null=True)),
                ('gender', models.CharField(blank=True, choices=[('MALE', 'Male'), ('FEMALE', 'Female'), ('OTHER', 'Other')], max_length=10, null=True)),
                ('contact_number', models.CharField(max_length=15)),
                ('emergency_contact', models.CharField(blank=True, max_length=15)),
                ('email', models.EmailField(max_length=254)),
                ('employee_id', models.CharField(max_length=20, null=True, unique=True)),
                ('hire_date', models.DateField()),
                ('profile_picture', models.ImageField(blank=True, null=True, upload_to='front_desk_staff/')),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
                ('user', models.OneToOneField(null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Pharmacist Staff',
                'verbose_name_plural': 'Pharmacist Staff',
                'ordering': ['user__last_name'],
            },
        ),
        migrations.CreateModel(
            name='Pharmacy_Medication',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('diagnosis', models.TextField()),
                ('dispensed_date', models.DateTimeField(auto_now_add=True)),
                ('quantity_dispensed', models.PositiveIntegerField()),
                ('dosage', models.CharField(max_length=100)),
                ('frequency', models.CharField(max_length=100)),
                ('duration', models.CharField(max_length=100)),
                ('appointment', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='data_hub.appointment')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('dispensed_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='dispensed_medications', to=settings.AUTH_USER_MODEL)),
                ('medication', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='data_hub.medication')),
                ('stock_entry', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='data_hub.medicationstock')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='PharmacyBilling',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('bill_number', models.CharField(max_length=20, unique=True)),
                ('patient_name', models.CharField(max_length=100)),
                ('bill_date', models.DateField(null=True)),
                ('age', models.PositiveIntegerField(null=True)),
                ('gender', models.CharField(max_length=10, null=True)),
                ('discount', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('payment_type', models.CharField(choices=[('CASH', 'Cash'), ('CARD', 'Card'), ('UPI', 'UPI'), ('OTHER', 'Other')], default='CASH', max_length=20)),
                ('payment_status', models.CharField(choices=[('PENDING', 'Pending'), ('PAID', 'Paid'), ('CANCELLED', 'Cancelled')], default='PENDING', max_length=20)),
                ('amount', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('items', models.JSONField(default=list, null=True)),
                ('others', models.JSONField(default=list, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('dispensed_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='pharmacy_billing', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='PharmacyBillingItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('quantity', models.IntegerField()),
                ('unit_price', models.DecimalField(decimal_places=2, default=0.0, max_digits=10, null=True)),
                ('billing', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items_set', to='data_hub.pharmacybilling')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('medication', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='data_hub.medication')),
                ('stock_entry', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='data_hub.medicationstock')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='PrescribedMedicine',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('dosage', models.CharField(max_length=100)),
                ('frequency', models.CharField(max_length=100)),
                ('duration', models.CharField(max_length=100)),
                ('quantity', models.PositiveIntegerField()),
                ('instructions', models.TextField(blank=True, null=True)),
                ('consultation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='data_hub.doctorconsultation')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('medicine', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='data_hub.medication')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='MedicationDispense',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('quantity_dispensed', models.PositiveIntegerField()),
                ('dispensed_date', models.DateTimeField(auto_now_add=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('dispensed_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
                ('stock_entry', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='data_hub.medicationstock')),
                ('prescribed_medicine', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='data_hub.prescribedmedicine')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.AddField(
            model_name='doctorconsultation',
            name='prescribed_medicines',
            field=models.ManyToManyField(through='data_hub.PrescribedMedicine', to='data_hub.medication'),
        ),
        migrations.CreateModel(
            name='PurchaseEntry',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('grn_number', models.CharField(help_text='Auto-generated GRN number (GRN-YYYYMMDD-XXXX)', max_length=30, unique=True)),
                ('invoice_number', models.CharField(help_text="Supplier's invoice number", max_length=50)),
                ('invoice_date', models.DateField(help_text='Invoice date')),
                ('received_date', models.DateField(help_text='Date when goods were received')),
                ('subtotal', models.DecimalField(decimal_places=2, default=0.0, help_text='Subtotal (before tax and discount)', max_digits=10)),
                ('discount_amount', models.DecimalField(decimal_places=2, default=0.0, help_text='Total discount amount', max_digits=10)),
                ('tax_amount', models.DecimalField(decimal_places=2, default=0.0, help_text='Total GST amount', max_digits=10)),
                ('total_amount', models.DecimalField(decimal_places=2, default=0.0, help_text='Final total amount', max_digits=10)),
                ('payment_status', models.CharField(choices=[('PENDING', 'Pending'), ('PAID', 'Paid'), ('PARTIAL', 'Partial'), ('OVERDUE', 'Overdue'), ('CANCELLED', 'Cancelled')], default='PENDING', help_text='Payment status', max_length=20)),
                ('payment_mode', models.CharField(blank=True, choices=[('CASH', 'Cash'), ('CARD', 'Card'), ('UPI', 'UPI'), ('CHEQUE', 'Cheque'), ('NETBANKING', 'Net Banking'), ('CREDIT', 'Credit')], help_text='Payment method', max_length=20, null=True)),
                ('payment_date', models.DateField(blank=True, help_text='Date when payment was made', null=True)),
                ('notes', models.TextField(blank=True, help_text='Additional notes', null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Purchase Entry (GRN)',
                'verbose_name_plural': 'Purchase Entries (GRN)',
                'db_table': 'purchase_entry',
                'ordering': ['-received_date', '-created_on'],
            },
        ),
        migrations.AddField(
            model_name='medicationstock',
            name='purchase_entry',
            field=models.ForeignKey(help_text='Source purchase entry (GRN) - Required for full audit trail', on_delete=django.db.models.deletion.PROTECT, related_name='stock_entries', to='data_hub.purchaseentry'),
        ),
        migrations.CreateModel(
            name='PurchaseItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('batch_number', models.CharField(help_text="Manufacturer's batch number", max_length=50)),
                ('expiry_date', models.DateField(help_text='Expiration date')),
                ('quantity', models.PositiveIntegerField(help_text='Quantity purchased')),
                ('free_quantity', models.PositiveIntegerField(default=0, help_text='Free quantity (bonus)')),
                ('packing', models.CharField(blank=True, help_text='Packing details (e.g., 10 tablets per strip)', max_length=50, null=True)),
                ('mrp', models.DecimalField(decimal_places=2, help_text='Maximum Retail Price', max_digits=10)),
                ('purchase_price', models.DecimalField(decimal_places=2, help_text='Purchase cost per unit', max_digits=10)),
                ('ptr', models.DecimalField(blank=True, decimal_places=2, help_text='Price to Retailer', max_digits=10, null=True)),
                ('discount_percent', models.DecimalField(decimal_places=2, default=0.0, help_text='Discount percentage', max_digits=5)),
                ('discount_amount', models.DecimalField(decimal_places=2, default=0.0, help_text='Discount amount', max_digits=10)),
                ('cgst_percent', models.DecimalField(decimal_places=2, default=0.0, help_text='CGST percentage', max_digits=5)),
                ('sgst_percent', models.DecimalField(decimal_places=2, default=0.0, help_text='SGST percentage', max_digits=5)),
                ('igst_percent', models.DecimalField(decimal_places=2, default=0.0, help_text='IGST percentage', max_digits=5)),
                ('tax_amount', models.DecimalField(decimal_places=2, default=0.0, help_text='Total tax amount', max_digits=10)),
                ('total_amount', models.DecimalField(decimal_places=2, default=0.0, help_text='Item total amount', max_digits=10)),
                ('margin_percent', models.DecimalField(decimal_places=2, default=0.0, help_text='Profit margin percentage', max_digits=5)),
                ('created_on', models.DateTimeField(auto_now_add=True)),
                ('medication', models.ForeignKey(help_text='Medication purchased', on_delete=django.db.models.deletion.PROTECT, related_name='purchase_items', to='data_hub.medication')),
                ('purchase_entry', models.ForeignKey(help_text='Parent purchase entry', on_delete=django.db.models.deletion.CASCADE, related_name='purchase_items', to='data_hub.purchaseentry')),
                ('stock_entry', models.ForeignKey(blank=True, help_text='Created medication stock entry', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='purchase_item_link', to='data_hub.medicationstock')),
            ],
            options={
                'verbose_name': 'Purchase Item',
                'verbose_name_plural': 'Purchase Items',
                'db_table': 'purchase_item',
                'ordering': ['id'],
            },
        ),
        migrations.AddField(
            model_name='medicationstock',
            name='purchase_item',
            field=models.ForeignKey(help_text='Source purchase item - Required for batch tracking and supplier returns', on_delete=django.db.models.deletion.PROTECT, related_name='stock_created', to='data_hub.purchaseitem'),
        ),
        migrations.CreateModel(
            name='PurchaseOrder',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('po_number', models.CharField(help_text='Auto-generated PO number (PO-YYYYMMDD-XXXX)', max_length=30, unique=True)),
                ('order_date', models.DateField(help_text='Date when order was created')),
                ('expected_delivery_date', models.DateField(blank=True, help_text='Expected delivery date', null=True)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('PENDING', 'Pending'), ('APPROVED', 'Approved'), ('PARTIAL', 'Partially Received'), ('COMPLETED', 'Completed'), ('CANCELLED', 'Cancelled')], default='PENDING', help_text='Order status', max_length=20)),
                ('total_amount', models.DecimalField(decimal_places=2, default=0.0, help_text='Total order value', max_digits=10)),
                ('notes', models.TextField(blank=True, help_text='Additional notes about the order', null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Purchase Order',
                'verbose_name_plural': 'Purchase Orders',
                'db_table': 'purchase_order',
                'ordering': ['-order_date', '-created_on'],
            },
        ),
        migrations.AddField(
            model_name='purchaseentry',
            name='purchase_order',
            field=models.ForeignKey(blank=True, help_text='Related purchase order (optional)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='purchase_entries', to='data_hub.purchaseorder'),
        ),
        migrations.CreateModel(
            name='Specialization',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('name', models.CharField(max_length=100, unique=True)),
                ('code', models.CharField(max_length=10, null=True, unique=True)),
                ('description', models.TextField(blank=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('department', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='specializations', to='data_hub.department')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.AddField(
            model_name='doctor',
            name='specialization',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='data_hub.specialization'),
        ),
        migrations.CreateModel(
            name='Status',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('code', models.CharField(max_length=50, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True, null=True)),
                ('category', models.CharField(choices=[('APPOINTMENT', 'Appointment'), ('BILLING', 'Billing'), ('LAB', 'Lab'), ('DISCHARGE', 'Discharge'), ('ADMISSION', 'Admission'), ('PRESCRIPTION', 'Prescription'), ('GENERIC', 'Generic')], max_length=50)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name_plural': 'Statuses',
            },
        ),
        migrations.CreateModel(
            name='Supplier',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('code', models.CharField(help_text='Auto-generated unique supplier code (SUP-0001)', max_length=20, unique=True)),
                ('name', models.CharField(help_text='Supplier company name', max_length=200)),
                ('supplier_type', models.CharField(choices=[('MANUFACTURER', 'Manufacturer'), ('DISTRIBUTOR', 'Distributor'), ('WHOLESALER', 'Wholesaler'), ('RETAILER', 'Retailer'), ('AGENT', 'Agent')], default='DISTRIBUTOR', help_text='Type of supplier', max_length=20)),
                ('contact_person', models.CharField(blank=True, help_text='Contact person name', max_length=100, null=True)),
                ('phone', models.CharField(help_text='Primary contact number', max_length=15)),
                ('alternate_phone', models.CharField(blank=True, help_text='Secondary contact number', max_length=15, null=True)),
                ('email', models.EmailField(blank=True, help_text='Email address', max_length=254, null=True)),
                ('address', models.TextField(help_text='Full address')),
                ('gstin', models.CharField(blank=True, help_text='GST Identification Number (15 characters)', max_length=15, null=True, unique=True)),
                ('pan', models.CharField(blank=True, help_text='PAN number (10 characters)', max_length=10, null=True)),
                ('drug_license_number', models.CharField(blank=True, help_text='Drug license number', max_length=50, null=True)),
                ('payment_type', models.CharField(choices=[('CASH', 'Cash Only'), ('CREDIT', 'Credit Allowed'), ('BOTH', 'Cash & Credit')], default='CASH', help_text='Payment terms: Cash/Credit/Both', max_length=20)),
                ('credit_days', models.IntegerField(default=0, help_text='Credit period in days (0 = cash only)')),
                ('credit_limit', models.DecimalField(blank=True, decimal_places=2, help_text='Maximum credit amount allowed', max_digits=10, null=True)),
                ('bank_name', models.CharField(blank=True, help_text="Supplier's bank name", max_length=100, null=True)),
                ('account_number', models.CharField(blank=True, help_text='Bank account number', max_length=50, null=True)),
                ('ifsc_code', models.CharField(blank=True, help_text='IFSC code', max_length=11, null=True)),
                ('rating', models.IntegerField(blank=True, choices=[(1, '1 - Poor'), (2, '2 - Below Average'), (3, '3 - Average'), (4, '4 - Good'), (5, '5 - Excellent')], help_text='Supplier rating (1-5 stars)', null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Supplier',
                'verbose_name_plural': 'Suppliers',
                'db_table': 'supplier',
                'ordering': ['-created_on'],
            },
        ),
        migrations.AddField(
            model_name='purchaseorder',
            name='supplier',
            field=models.ForeignKey(help_text='Supplier for this purchase order', on_delete=django.db.models.deletion.PROTECT, related_name='purchase_orders', to='data_hub.supplier'),
        ),
        migrations.AddField(
            model_name='purchaseentry',
            name='supplier',
            field=models.ForeignKey(help_text='Supplier from whom goods were received', on_delete=django.db.models.deletion.PROTECT, related_name='purchase_entries', to='data_hub.supplier'),
        ),
        migrations.CreateModel(
            name='SupplierReturn',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('return_number', models.CharField(help_text='Auto-generated return number (SRN-YYYYMMDD-XXXX)', max_length=30, unique=True)),
                ('return_date', models.DateField(help_text='Date when return is initiated')),
                ('reason', models.CharField(choices=[('DAMAGED', 'Damaged Goods'), ('EXPIRED', 'Expired Items'), ('WRONG_ITEM', 'Wrong Item Received'), ('EXCESS_STOCK', 'Excess Stock'), ('NEAR_EXPIRY', 'Near Expiry'), ('QUALITY_ISSUE', 'Quality Issue'), ('OTHER', 'Other')], help_text='Reason for return', max_length=20)),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('APPROVED', 'Approved'), ('SHIPPED', 'Shipped to Supplier'), ('COMPLETED', 'Completed'), ('REJECTED', 'Rejected'), ('CANCELLED', 'Cancelled')], default='PENDING', help_text='Return status', max_length=20)),
                ('credit_note_number', models.CharField(blank=True, help_text="Supplier's credit note number", max_length=50, null=True)),
                ('credit_note_date', models.DateField(blank=True, help_text="Date of supplier's credit note", null=True)),
                ('credit_note_amount', models.DecimalField(decimal_places=2, default=0.0, help_text='Amount credited by supplier (may differ from total_amount)', max_digits=10)),
                ('subtotal', models.DecimalField(decimal_places=2, default=0.0, help_text='Subtotal (before tax)', max_digits=10)),
                ('tax_amount', models.DecimalField(decimal_places=2, default=0.0, help_text='Total GST amount being returned', max_digits=10)),
                ('total_amount', models.DecimalField(decimal_places=2, default=0.0, help_text='Total return value', max_digits=10)),
                ('notes', models.TextField(blank=True, help_text='Additional notes about the return', null=True)),
                ('approved_date', models.DateTimeField(blank=True, help_text='When return was approved', null=True)),
                ('shipped_date', models.DateField(blank=True, help_text='When items were shipped back to supplier', null=True)),
                ('completed_date', models.DateField(blank=True, help_text='When supplier accepted and issued credit note', null=True)),
                ('stock_adjusted', models.BooleanField(default=False, help_text='Whether stock has been adjusted (happens on approval)')),
                ('approved_by', models.ForeignKey(blank=True, help_text='Who approved this return', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_supplier_returns', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('purchase_entry', models.ForeignKey(blank=True, help_text='Original GRN (optional)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='supplier_returns', to='data_hub.purchaseentry')),
                ('supplier', models.ForeignKey(help_text='Supplier to whom items are being returned', on_delete=django.db.models.deletion.PROTECT, related_name='supplier_returns', to='data_hub.supplier')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Supplier Return',
                'verbose_name_plural': 'Supplier Returns',
                'db_table': 'supplier_return',
                'ordering': ['-return_date', '-created_on'],
            },
        ),
        migrations.CreateModel(
            name='SupplierReturnItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('batch_number', models.CharField(help_text='Batch number being returned', max_length=100)),
                ('expiry_date', models.DateField(help_text='Expiry date of batch')),
                ('quantity_returned', models.PositiveIntegerField(help_text='Quantity being returned')),
                ('unit_price', models.DecimalField(decimal_places=2, help_text='Original purchase price per unit', max_digits=10)),
                ('cgst_percent', models.DecimalField(decimal_places=2, default=0.0, help_text='CGST percentage', max_digits=5)),
                ('sgst_percent', models.DecimalField(decimal_places=2, default=0.0, help_text='SGST percentage', max_digits=5)),
                ('igst_percent', models.DecimalField(decimal_places=2, default=0.0, help_text='IGST percentage', max_digits=5)),
                ('tax_amount', models.DecimalField(decimal_places=2, default=0.0, help_text='Total GST amount', max_digits=10)),
                ('total_amount', models.DecimalField(decimal_places=2, default=0.0, help_text='Total return value for this item', max_digits=10)),
                ('condition', models.CharField(choices=[('GOOD', 'Good Condition'), ('DAMAGED', 'Damaged'), ('EXPIRED', 'Expired'), ('NEAR_EXPIRY', 'Near Expiry')], help_text='Physical condition of items', max_length=20)),
                ('reason_detail', models.TextField(blank=True, help_text='Specific reason for returning this item', null=True)),
                ('created_on', models.DateTimeField(auto_now_add=True)),
                ('medication', models.ForeignKey(help_text='Medication being returned', on_delete=django.db.models.deletion.PROTECT, to='data_hub.medication')),
                ('purchase_item', models.ForeignKey(blank=True, help_text='Original purchase item (if available)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='supplier_return_items', to='data_hub.purchaseitem')),
                ('stock_entry', models.ForeignKey(blank=True, help_text='Stock entry being returned from', null=True, on_delete=django.db.models.deletion.SET_NULL, to='data_hub.medicationstock')),
                ('supplier_return', models.ForeignKey(help_text='Parent return', on_delete=django.db.models.deletion.CASCADE, related_name='return_items', to='data_hub.supplierreturn')),
            ],
            options={
                'verbose_name': 'Supplier Return Item',
                'verbose_name_plural': 'Supplier Return Items',
                'db_table': 'supplier_return_item',
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='SystemCreator',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('is_superadmin', models.BooleanField(default=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='TestCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=150)),
                ('code', models.CharField(max_length=20, unique=True)),
                ('description', models.TextField(blank=True)),
                ('department', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='categories', to='data_hub.labdepartment')),
                ('parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='subcategories', to='data_hub.testcategory')),
            ],
        ),
        migrations.CreateModel(
            name='TestParameter',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=150)),
                ('code', models.CharField(max_length=20)),
                ('unit', models.CharField(blank=True, max_length=50)),
                ('is_qualitative', models.BooleanField(default=False)),
                ('normal_values', models.JSONField(blank=True, null=True)),
                ('sequence_order', models.PositiveIntegerField(default=1)),
                ('is_active', models.BooleanField(default=True)),
                ('category', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='parameters', to='data_hub.testcategory')),
            ],
            options={
                'ordering': ['sequence_order', 'name'],
            },
        ),
        migrations.CreateModel(
            name='ReferenceRange',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('gender', models.CharField(blank=True, choices=[('Male', 'Male'), ('Female', 'Female'), ('Other', 'Other')], max_length=10, null=True)),
                ('age_min', models.PositiveIntegerField(blank=True, null=True)),
                ('age_max', models.PositiveIntegerField(blank=True, null=True)),
                ('min_val', models.FloatField()),
                ('max_val', models.FloatField()),
                ('note', models.TextField(blank=True)),
                ('parameter', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reference_ranges', to='data_hub.testparameter')),
            ],
            options={
                'ordering': ['age_min'],
            },
        ),
        migrations.CreateModel(
            name='DoctorSchedule',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('day_of_week', models.CharField(choices=[('MONDAY', 'Monday'), ('TUESDAY', 'Tuesday'), ('WEDNESDAY', 'Wednesday'), ('THURSDAY', 'Thursday'), ('FRIDAY', 'Friday'), ('SATURDAY', 'Saturday'), ('SUNDAY', 'Sunday')], max_length=10, null=True)),
                ('shift_type', models.CharField(choices=[('MORNING', 'Morning'), ('AFTERNOON', 'Afternoon'), ('EVENING', 'Evening'), ('NIGHT', 'Night'), ('FULL_DAY', 'Full Day'), ('CUSTOM', 'Custom')], default='CUSTOM', max_length=20, null=True)),
                ('start_time', models.TimeField(null=True)),
                ('end_time', models.TimeField(null=True)),
                ('room_number', models.CharField(blank=True, max_length=50, null=True)),
                ('max_appointments', models.PositiveIntegerField(blank=True, null=True)),
                ('valid_from', models.DateField(blank=True, null=True)),
                ('valid_to', models.DateField(blank=True, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('doctor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='schedules', to='data_hub.doctor')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['doctor', 'day_of_week', 'start_time'],
                'unique_together': {('doctor', 'day_of_week', 'shift_type')},
            },
        ),
        migrations.CreateModel(
            name='NurseShiftAssignment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_on', models.DateTimeField(auto_now=True)),
                ('updated_on', models.DateTimeField(blank=True, null=True)),
                ('comments', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('day', models.DateField()),
                ('shift_type', models.CharField(choices=[('MORNING', 'Morning'), ('AFTERNOON', 'Afternoon'), ('EVENING', 'Evening'), ('NIGHT', 'Night'), ('FULL_DAY', 'Full Day'), ('CUSTOM', 'Custom')], default='FULL_DAY', max_length=20)),
                ('start_time', models.TimeField(blank=True, null=True)),
                ('end_time', models.TimeField(blank=True, null=True)),
                ('room_number', models.CharField(blank=True, max_length=50, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_set', to=settings.AUTH_USER_MODEL)),
                ('department', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='nurse_assignments', to='data_hub.department')),
                ('nurse', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='shift_assignments', to='data_hub.nurse')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_updatedby_set', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['day', 'start_time'],
                'unique_together': {('nurse', 'day', 'shift_type')},
            },
        ),
        migrations.AddIndex(
            model_name='purchaseitem',
            index=models.Index(fields=['purchase_entry'], name='purchase_it_purchas_88fa7c_idx'),
        ),
        migrations.AddIndex(
            model_name='purchaseitem',
            index=models.Index(fields=['medication'], name='purchase_it_medicat_aebf31_idx'),
        ),
        migrations.AddIndex(
            model_name='purchaseitem',
            index=models.Index(fields=['batch_number'], name='purchase_it_batch_n_ccf0f8_idx'),
        ),
        migrations.AddIndex(
            model_name='purchaseitem',
            index=models.Index(fields=['expiry_date'], name='purchase_it_expiry__7c4e1a_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='status',
            unique_together={('code', 'category')},
        ),
        migrations.AddIndex(
            model_name='supplier',
            index=models.Index(fields=['code'], name='supplier_code_74f543_idx'),
        ),
        migrations.AddIndex(
            model_name='supplier',
            index=models.Index(fields=['name'], name='supplier_name_b57b10_idx'),
        ),
        migrations.AddIndex(
            model_name='supplier',
            index=models.Index(fields=['is_active'], name='supplier_is_acti_526085_idx'),
        ),
        migrations.AddIndex(
            model_name='purchaseorder',
            index=models.Index(fields=['po_number'], name='purchase_or_po_numb_1d7f45_idx'),
        ),
        migrations.AddIndex(
            model_name='purchaseorder',
            index=models.Index(fields=['supplier'], name='purchase_or_supplie_6b4199_idx'),
        ),
        migrations.AddIndex(
            model_name='purchaseorder',
            index=models.Index(fields=['order_date'], name='purchase_or_order_d_37b60a_idx'),
        ),
        migrations.AddIndex(
            model_name='purchaseorder',
            index=models.Index(fields=['status'], name='purchase_or_status_86ae3f_idx'),
        ),
        migrations.AddIndex(
            model_name='purchaseorder',
            index=models.Index(fields=['is_active'], name='purchase_or_is_acti_8d8453_idx'),
        ),
        migrations.AddIndex(
            model_name='purchaseentry',
            index=models.Index(fields=['grn_number'], name='purchase_en_grn_num_55888e_idx'),
        ),
        migrations.AddIndex(
            model_name='purchaseentry',
            index=models.Index(fields=['supplier'], name='purchase_en_supplie_6ded37_idx'),
        ),
        migrations.AddIndex(
            model_name='purchaseentry',
            index=models.Index(fields=['purchase_order'], name='purchase_en_purchas_ab5830_idx'),
        ),
        migrations.AddIndex(
            model_name='purchaseentry',
            index=models.Index(fields=['invoice_number'], name='purchase_en_invoice_8f8a27_idx'),
        ),
        migrations.AddIndex(
            model_name='purchaseentry',
            index=models.Index(fields=['received_date'], name='purchase_en_receive_59395d_idx'),
        ),
        migrations.AddIndex(
            model_name='purchaseentry',
            index=models.Index(fields=['payment_status'], name='purchase_en_payment_aa22ac_idx'),
        ),
        migrations.AddIndex(
            model_name='purchaseentry',
            index=models.Index(fields=['is_active'], name='purchase_en_is_acti_049557_idx'),
        ),
        migrations.AddIndex(
            model_name='supplierreturn',
            index=models.Index(fields=['return_number'], name='supplier_re_return__7703df_idx'),
        ),
        migrations.AddIndex(
            model_name='supplierreturn',
            index=models.Index(fields=['supplier'], name='supplier_re_supplie_378fed_idx'),
        ),
        migrations.AddIndex(
            model_name='supplierreturn',
            index=models.Index(fields=['purchase_entry'], name='supplier_re_purchas_bcdb7b_idx'),
        ),
        migrations.AddIndex(
            model_name='supplierreturn',
            index=models.Index(fields=['return_date'], name='supplier_re_return__e2bb47_idx'),
        ),
        migrations.AddIndex(
            model_name='supplierreturn',
            index=models.Index(fields=['status'], name='supplier_re_status_429e43_idx'),
        ),
        migrations.AddIndex(
            model_name='supplierreturn',
            index=models.Index(fields=['reason'], name='supplier_re_reason_e41841_idx'),
        ),
        migrations.AddIndex(
            model_name='supplierreturnitem',
            index=models.Index(fields=['supplier_return'], name='supplier_re_supplie_37939d_idx'),
        ),
        migrations.AddIndex(
            model_name='supplierreturnitem',
            index=models.Index(fields=['medication'], name='supplier_re_medicat_82c0f2_idx'),
        ),
        migrations.AddIndex(
            model_name='supplierreturnitem',
            index=models.Index(fields=['batch_number'], name='supplier_re_batch_n_78b880_idx'),
        ),
        migrations.AddIndex(
            model_name='supplierreturnitem',
            index=models.Index(fields=['expiry_date'], name='supplier_re_expiry__ca5767_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='testcategory',
            unique_together={('department', 'name')},
        ),
        migrations.AlterUniqueTogether(
            name='testparameter',
            unique_together={('category', 'code')},
        ),
    ]
